{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "database up",
      "type": "docker-compose",
      "icon": {
        "id": "database",
        "color": "terminal.ansiGreen"
      },
      "dockerCompose": {
        "up": {
          "detached": true
        }
      }
    },
    {
      "label": "database down",
      "type": "docker-compose",
      "icon": {
        "id": "database",
        "color": "terminal.ansiRed"
      },
      "dockerCompose": {
        "down": {}
      }
    },
    {
      "label": "start laddle",
      "type": "shell",
      "command": "npm run stories",
      "isBackground": true,
      "problemMatcher": {
        "owner": "laddle",
        "pattern": {
          "regexp": ".+",
          "file": 1,
          "location": 2,
          "message": 3
        },
        "background": {
          "activeOnStart": true,
          "beginsPattern": ".*Laddle is running at.*",
          "endsPattern": ".*Laddle process started.*"
        }
      }
    },
    {
      "label": "tsc --watch",
      "icon": {
        "color": "terminal.ansiCyan",
        "id": "eye-watch"
      },
      "type": "shell",
      "command": "npx tsc --watch",
      "problemMatcher": "$tsc-watch",
      "group": {
        "kind": "test",
        "isDefault": true
      }
    },

    ////////////////// Build Tasks //////////////////

    {
      "label": "npm run build",
      "type": "shell",
      "command": "npm run build",
      "group": "build"
    },

    {
      "label": "biome check src --write",
      "type": "shell",
      "command": "npx biome check src --write",
      "group": "build"
    },

    {
      "label": "build",
      "group": {
        "kind": "build",
        "isDefault": true
      },
      "dependsOn": ["npm run build", "biome check src --write"],
      "dependsOrder": "parallel"
    }
  ]
}
